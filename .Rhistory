file.exists('my_data.csv')## load packages
packs.html <- c("knitr", "pander", "dplyr", "readxl")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
## upcoming
path <- getwd()
upcoming <- as.data.frame(read_excel(paste(path, "/data/upcoming.xlsx", sep = ""), col_types = NULL))
if (nrow(upcoming) > 0){
# prepare date strings
dates <- unique(select(upcoming, date))[, 1]
d <- substr(dates, 1, 2)
m <- substr(dates, 4, 5)
y <- substr(dates, 7, 11)
rdate <- paste(y, m, d, sep = "")
upcoming$Registration <- ifelse(is.na(select(upcoming, registration)[, 1]), "",
paste("[Registration](", select(upcoming, registration)[, 1], ")", sep = ""))
upcoming$Agenda <- paste("[Agenda](upcoming/", rdate, "/agenda.pdf)", sep = "")
upcoming[upcoming$date == "20.02.2025", "Registration"] <- "[Registration for mentors](https://docs.google.com/forms/d/e/1FAIpQLSeNESs9AJKrUXmLBv_wiiHKjWJHWEJ2nq89ZiS3SPLfy4JMfw/viewform)<br><br>Registration for mentees to follow"
upcoming[is.na(upcoming)] <- ""
upcoming <- select(upcoming, date, event, type, Agenda, Registration, comment) %>% rename("Date" = date, "Event" = event, "Type of event" = type,
"Comment" = comment)
}
## load packages
packs.html <- c("knitr", "pander", "dplyr", "readxl")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
## upcoming
path <- getwd()
upcoming <- as.data.frame(read_excel(paste(path, "/data/upcoming.xlsx", sep = ""), col_types = NULL))
if (nrow(upcoming) > 0){
# prepare date strings
dates <- unique(select(upcoming, date))[, 1]
d <- substr(dates, 1, 2)
m <- substr(dates, 4, 5)
y <- substr(dates, 7, 11)
rdate <- paste(y, m, d, sep = "")
upcoming$Registration <- ifelse(is.na(select(upcoming, registration)[, 1]), "",
paste("[Registration](", select(upcoming, registration)[, 1], ")", sep = ""))
upcoming$Agenda <- paste("[Agenda](upcoming/", rdate, "/agenda.pdf)", sep = "")
upcoming[upcoming$date == "20.02.2025", "Registration"] <- "[Registration for mentors](https://docs.google.com/forms/d/e/1FAIpQLSeNESs9AJKrUXmLBv_wiiHKjWJHWEJ2nq89ZiS3SPLfy4JMfw/viewform)<br><br>Registration for mentees to follow"
upcoming[is.na(upcoming)] <- ""
upcoming <- select(upcoming, date, event, type, Agenda, Registration, comment) %>% rename("Date" = date, "Event" = event, "Type of event" = type,
"Comment" = comment)
}
upcoming
# prepare date strings
dates <- unique(select(upcoming, date))[, 1]
packs.html <- c("knitr", "pander", "dplyr", "readxl")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
## upcoming
path <- getwd()
upcoming <- as.data.frame(read_excel(paste(path, "/data/upcoming.xlsx", sep = ""), col_types = NULL))
# prepare date strings
dates <- unique(select(upcoming, date))[, 1]
d <- substr(dates, 1, 2)
m <- substr(dates, 4, 5)
y <- substr(dates, 7, 11)
rdate <- paste(y, m, d, sep = "")
upcoming$Registration <- ifelse(is.na(select(upcoming, registration)[, 1]), "",
paste("[Registration](", select(upcoming, registration)[, 1], ")", sep = ""))
rdate
upcoming
file.exists(paste("upcoming/", rdate, "/agenda.pdf", sep = ""))
## load packages
packs.html <- c("knitr", "pander", "dplyr", "readxl")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
## upcoming
path <- getwd()
upcoming <- as.data.frame(read_excel(paste(path, "/data/upcoming.xlsx", sep = ""), col_types = NULL))
if (nrow(upcoming) > 0){
# prepare date strings
dates <- unique(select(upcoming, date))[, 1]
d <- substr(dates, 1, 2)
m <- substr(dates, 4, 5)
y <- substr(dates, 7, 11)
rdate <- paste(y, m, d, sep = "")
upcoming$Registration <- ifelse(is.na(select(upcoming, registration)[, 1]), "",
paste("[Registration](", select(upcoming, registration)[, 1], ")", sep = ""))
ag <- file.exists(paste("upcoming/", rdate, "/agenda.pdf", sep = ""))
upcoming$Agenda <- ifelse(ag, paste("[Agenda](upcoming/", rdate, "/agenda.pdf)", sep = ""), "")
upcoming[upcoming$date == "20.02.2025", "Registration"] <- "[Registration for mentors](https://docs.google.com/forms/d/e/1FAIpQLSeNESs9AJKrUXmLBv_wiiHKjWJHWEJ2nq89ZiS3SPLfy4JMfw/viewform)<br><br>Registration for mentees to follow"
upcoming[is.na(upcoming)] <- ""
upcoming <- select(upcoming, date, event, type, Agenda, Registration, comment) %>% rename("Date" = date, "Event" = event, "Type of event" = type,
"Comment" = comment)
}
upcoming
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/p00_initialize.r", sep = ""))
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
with(filter(reg2, type %in% c("HTA", "Regulator")[2]))
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
# categories with frequencies below cut will be lumped together
cut <- 3
now <- as.POSIXlt(Sys.time())
now <- paste(substr(now, 1, 10), " at ", substr(now, 12, 19), sep = "")
t2 <- with(reg2, table(type))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 1, mar = c(4.5, 4.5, 3, 1))
ylim <- c(0, 1.1 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg)[1], "\n type of institution", sep = ""), col = 2, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, cex = 0.8, col = 1)
t2 <- with(reg2, table(background))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 1, mar = c(4.5, 4.5, 3, 1))
ylim <- c(0, 1.1 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg)[1], "\n background", sep = ""), col = 2, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, cex = 0.8, col = 1)
t2 <- with(reg2, table(inst2))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 2, mar = c(21, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg2)[1], "\n institution", sep = ""), col = 4, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
#dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[2]))
#dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[1]), table(inst2, mode))
t2 <- with(reg2, table(country2))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 2, mar = c(17, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste(dim(reg2)[1], " registrations from ", with(reg2, length(unique(country2))), " countries", sep = ""), col = 4, ylim = ylim)
#par(srt = 90)
text(x = xx + 0.2, y = t2 + 2.5, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
world <- ne_countries(scale = "medium", returnclass = "sf")
uc <- unique(reg2$country2)
uc <- uc[is.na(uc) == FALSE]
world$fill <- (world$sovereignt %in% uc) == FALSE
palette = colorRampPalette(brewer.pal(n=5, name='Oranges'))(5)
palette = c("white", palette)
worldpopmap <- ggplot() +
geom_sf(data = world, aes(fill = fill)) +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "none") +
ggtitle("Broad representation") +
theme(plot.title = element_text(hjust = 0.5)) +
theme(plot.title=element_text(size=30,face="bold"))
# display map
worldpopmap
df <- data.frame(country = reg2$country2)
df$continent <- countrycode(sourcevar = df[, "country"],
origin = "country.name",
destination = "continent")
t2 <- with(df, table(continent))
t2 <- prepTable(t2 = t2, cut = 0)
par(las = 2, mar = c(17, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste(dim(reg2)[1], " registrations from ", with(df, length(unique(continent))), " regions", sep = ""), col = 4, ylim = ylim)
#par(srt = 90)
text(x = xx + 0.2, y = t2 + 2.5, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
## load packages
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
# categories with frequencies below cut will be lumped together
cut <- 3
now <- as.POSIXlt(Sys.time())
now <- paste(substr(now, 1, 10), " at ", substr(now, 12, 19), sep = "")
t2 <- with(reg2, table(type))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 1, mar = c(4.5, 4.5, 3, 1))
ylim <- c(0, 1.1 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg)[1], "\n type of institution", sep = ""), col = 2, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, cex = 0.8, col = 1)
t2 <- with(reg2, table(background))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 1, mar = c(4.5, 4.5, 3, 1))
ylim <- c(0, 1.1 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg)[1], "\n background", sep = ""), col = 2, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, cex = 0.8, col = 1)
t2 <- with(reg2, table(inst2))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 2, mar = c(21, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg2)[1], "\n institution", sep = ""), col = 4, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
#dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[2]))
#dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[1]), table(inst2, mode))
t2 <- with(reg2, table(country2))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 2, mar = c(17, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste(dim(reg2)[1], " registrations from ", with(reg2, length(unique(country2))), " countries", sep = ""), col = 4, ylim = ylim)
#par(srt = 90)
text(x = xx + 0.2, y = t2 + 2.5, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
world <- ne_countries(scale = "medium", returnclass = "sf")
uc <- unique(reg2$country2)
uc <- uc[is.na(uc) == FALSE]
world$fill <- (world$sovereignt %in% uc) == FALSE
palette = colorRampPalette(brewer.pal(n=5, name='Oranges'))(5)
palette = c("white", palette)
worldpopmap <- ggplot() +
geom_sf(data = world, aes(fill = fill)) +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
legend.position = "none") +
ggtitle("Broad representation") +
theme(plot.title = element_text(hjust = 0.5)) +
theme(plot.title=element_text(size=30,face="bold"))
# display map
worldpopmap
df <- data.frame(country = reg2$country2)
df$continent <- countrycode(sourcevar = df[, "country"],
origin = "country.name",
destination = "continent")
t2 <- with(df, table(continent))
t2 <- prepTable(t2 = t2, cut = 0)
par(las = 2, mar = c(17, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste(dim(reg2)[1], " registrations from ", with(df, length(unique(continent))), " regions", sep = ""), col = 4, ylim = ylim)
#par(srt = 90)
text(x = xx + 0.2, y = t2 + 2.5, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
with(filter(reg2, type %in% c("HTA", "Regulator")[2]))
reg2
reg2$type
filter(reg2, type %in% c("HTA", "Regulator")[2]
)
dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[1]), table(inst2, mode))
dat <- with(filter(reg2, type %in% c("HTA", "Regulator")[1]))
dat
filter(reg2, type %in% c("HTA", "Regulator")[1]
)
dat <- filter(reg2, type %in% c("HTA", "Regulator")[1])
dat
dat <- filter(reg2, type %in% c("HTA", "Regulator")[1])
t2 <- with(dat, table(inst2))
t2 <- prepTable(t2 = t2, cut = cut)
par(las = 2, mar = c(21, 4.5, 3, 1))
ylim <- c(0, 1.4 * max(t2))
xx <- barplot(t2, ylab = "number of registrations", main = paste("Total number of registrations: ", dim(reg2)[1], "\n institution", sep = ""), col = 4, ylim = ylim)
text(x = xx, y = t2, label = paste(t2, " (", round(100 * t2 / sum(t2)), "%)", sep = ""), pos = 3, offset = 2, cex = 0.8, col = 1, srt = 90)
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
packs.html <- c("knitr", "pander", "reporttools", "dplyr", "readxl", "countrycode")
for (i in 1:length(packs.html)){library(packs.html[i], character.only = TRUE)}
knitr::opts_chunk$set(echo = TRUE)
source(paste("C:/rufibach/70_Service/BBS/events/20250319_innovation/analysis/p00_initialize.r", sep = ""))
